{% extends "base.html" %}
{% block content %}

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<div>
  <div class="bg-gradient">
    <div class="justify-center items-center max-w-4xl mx-auto py-20">
      <h2 class="text-4xl font-bold text-center">Data Discovery</h2>
      <p class="mt-6 text-center">
        The dataset used in this project comes from the Behavioral Risk Factor Surveillance System (BRFSS), a nationwide
        survey led by the CDC to monitor health-related behaviors, conditions, and access to care among adults in the
        United States. For the purpose of this predictive analysis, the features are grouped into four main categories,
        as illustrated below: Demographic & Socioeconomic Factors, Other Medical Conditions, Behavioral and Lifestyle,
        and Social Determinants and Stress.
      </p>

      <div class="flex justify-center mt-10">
        <a href="{{ url_for('home') }}"
          class="text-navy py-3 px-6 bg-light-blue rounded-full hover:bg-[#C7E0FF] transition duration-300 font-bold">
          Back to Home</a>
      </div>
    </div>
  </div>

  <div class="flex flex-col md:flex-row gap-6 justify-center items-center">
    <div class="flex items-center gap-4 border-2 border-white rounded-xl px-8 py-8">
      <i class="fas fa-users text-white text-5xl"></i>
      <div>
        <div class="text-3xl font-bold text-white">333.830</div>
        <div class="text-white text-lg">Total Records</div>
      </div>
    </div>
    <div class="flex items-center gap-4 border-2 border-white rounded-xl px-8 py-6">
      <svg width="80" height="80" viewBox="0 0 64 64" fill="none">
        <circle cx="32" cy="32" r="26" stroke="#fff" stroke-width="4" opacity="0.4" />
        <path d="M32 6
       A26 26 0 0 1 58 32" stroke="#fff" stroke-width="4" fill="none" />
        <text x="32" y="38" font-size="16" fill="#fff" text-anchor="middle" font-weight="bold">21%</text>
      </svg>
      <div>
        <div class="flex items-end gap-2">
          <span class="text-3xl font-bold text-white">72.100</span>
          <span class="text-white text-lg">Records</span>
        </div>
        <div class="text-white text-base">Diagnosed with Depression</div>
      </div>
    </div>
  </div>

  <h4 class="mt-20 flex justify-center text-2xl font-bold text-center">Feature Categories</h4>
  <div class="mt-6 flex justify-center">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-2">
      <div class="flex flex-col items-center">
        <img src="https://images.pexels.com/photos/3184435/pexels-photo-3184435.jpeg?auto=compress&w=256&h=256&fit=crop"
          alt="Demographic & Socioeconomic" class="w-32 h-32 object-cover rounded-lg shadow mb-2 aspect-square">
        <span class="text-center font-semibold mt-2">Demographic and <br> Socioeconomic</span>
      </div>
      <div class="flex flex-col items-center">
        <img src="https://images.pexels.com/photos/1552242/pexels-photo-1552242.jpeg?auto=compress&w=256&h=256&fit=crop"
          alt="Behavioral and Lifestyle" class="w-32 h-32 object-cover rounded-lg shadow mb-2 aspect-square">
        <span class="text-center font-semibold mt-2">Behavioral and <br> Lifestyle</span>
      </div>
      <div class="flex flex-col items-center">
        <img src="https://images.pexels.com/photos/3184418/pexels-photo-3184418.jpeg?auto=compress&w=256&h=256&fit=crop"
          alt="Social Determinants and Stress" class="w-32 h-32 object-cover rounded-lg shadow mb-2 aspect-square">
        <span class="text-center font-semibold mt-2">Social Determinants <br> and Stress</span>
      </div>
      <div class="flex flex-col items-center">
        <img
          src="https://images.pexels.com/photos/40568/medical-appointment-doctor-healthcare-40568.jpeg?auto=compress&w=256&h=256&fit=crop"
          alt="Other Medical Conditions" class="w-32 h-32 object-cover rounded-lg shadow mb-2 aspect-square">
        <span class="text-center font-semibold mt-2">Other Medical <br> Conditions</span>
      </div>
    </div>
  </div>

  <div id="accordion-collapse" data-accordion="collapse" class="mt-10 max-w-2xl mx-auto">
    <h2 id="accordion-collapse-heading-1">
      <button type="button"
        class="accordion-button flex items-center justify-between w-full p-5 font-medium rtl:text-right rounded-t-xl dark:focus:ring-gray-800 dark:text-gray-300 dark:hover:bg-gray-800 gap-3"
        data-accordion-target="#accordion-collapse-body-1" aria-expanded="false"
        aria-controls="accordion-collapse-body-1">
        <span>Demographic & Socioeconomic Factors</span>
        <svg data-accordion-icon class="accordion-icon w-3 h-3 shrink-0 transition-transform"
          xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M9 5 5 1 1 5" />
        </svg>
      </button>
    </h2>
    <div id="accordion-collapse-body-1" class="hidden" aria-labelledby="accordion-collapse-heading-1">
      <div class="p-5">
        <p class="mb-2 dark:text-gray-400">
          This section focuses on how basic individual data and socioeconomic standing can relate to depression.
          Variables like age group, sex, marital status, education level, employment
          status, stability of employment, and income group are crucial here. These
          factors highlight that depression isn't isolated but can be influenced by and impact a person's life
          circumstances, including their financial situation and family structure (e.g., number of children in household). Understanding these demographic influences is vital for identifying at-risk populations and
          tailoring support.
        </p>
      </div>
    </div>

    <hr>

    <h2 id="accordion-collapse-heading-3">
      <button type="button"
        class="accordion-button flex items-center justify-between w-full p-5 font-medium rtl:text-right dark:focus:ring-gray-800 dark:text-gray-300 dark:hover:bg-gray-800 gap-3"
        data-accordion-target="#accordion-collapse-body-3" aria-expanded="false"
        aria-controls="accordion-collapse-body-3">
        <span class="text-white">Behavioral and Lifestyle</span>
        <svg data-accordion-icon class="accordion-icon w-3 h-3 shrink-0 transition-transform"
          xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M9 5 5 1 1 5" />
        </svg>
      </button>
    </h2>
    <div id="accordion-collapse-body-3" class="hidden" aria-labelledby="accordion-collapse-heading-3">
      <div class="p-5">
        <p class="mb-2 dark:text-gray-400">
          This section delves into how an individual's habits and lifestyle choices might correlate with depression. Key
          variables include smoking status, physical activity, and BMI category.
          Additionally, binge drinking is a specific behavioral aspect considered. These elements highlight
          how daily choices and physical health indicators can be both contributing factors to, or consequences of,
          depressive states, underscoring the role of lifestyle interventions in mental well-being.
        </p>
      </div>
    </div>

    <hr>

    <h2 id="accordion-collapse-heading-4">
      <button type="button"
        class="accordion-button flex items-center justify-between w-full p-5 font-medium rtl:text-right rounded-b-xl dark:focus:ring-gray-800 dark:text-gray-300 dark:hover:bg-gray-800 gap-3"
        data-accordion-target="#accordion-collapse-body-4" aria-expanded="false"
        aria-controls="accordion-collapse-body-4">
        <span>Social Determinants and Stress</span>
        <svg data-accordion-icon class="accordion-icon w-3 h-3 shrink-0 transition-transform"
          xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M9 5 5 1 1 5" />
        </svg>
      </button>
    </h2>
    <div id="accordion-collapse-body-4" class="hidden" aria-labelledby="accordion-collapse-heading-4">
      <div class="p-5">
        <p class="mb-2 dark:text-gray-400">
          This feature explores the relationship between social determinants and stress, highlighting how various
          socioeconomic and emotional factors can influence an individual's mental well-being. Variables such as
          loneliness, emotional support availability, food insecurity, and difficulty
          paying bills provide a multidimensional view of the challenges individuals may face. Additionally,
          perceived stress level and life satisfaction directly measure an individual's
          psychological state. Understanding these elements helps reveal how external pressures contribute to stress and
          can inform more effective social and health interventions.
        </p>
      </div>
    </div>

    <hr>

    <h2 id="accordion-collapse-heading-2">
      <button type="button"
        class="accordion-button flex items-center justify-between w-full p-5 font-medium rtl:text-right dark:focus:ring-gray-800 dark:text-gray-300 dark:hover:bg-gray-800 gap-3"
        data-accordion-target="#accordion-collapse-body-2" aria-expanded="false"
        aria-controls="accordion-collapse-body-2">
        <span>Other Medical Conditions</span>
        <svg data-accordion-icon class="accordion-icon w-3 h-3 shrink-0 transition-transform"
          xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M9 5 5 1 1 5" />
        </svg>
      </button>
    </h2>
    <div id="accordion-collapse-body-2" class="hidden" aria-labelledby="accordion-collapse-heading-2">
      <div class="p-5">
        <p class="mb-2 dark:text-gray-400">
          This category examines the connection between a diagnosis of depression and the presence of other physical
          health issues. The variable Ever diagnosed with depression is often studied alongside various
          chronic conditions such as Chronic Obstructive Pulmonary Disease, Chronic kidney disease, Diabetes, Asthma, and Arthritis. This suggests that depression
          frequently co-occurs with, or can be influenced by, existing physical illnesses, emphasizing the importance of
          a holistic approach to health.
        </p>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const accordionButtons = document.querySelectorAll('.accordion-button');

    accordionButtons.forEach(button => {
      const icon = button.querySelector('.accordion-icon');

      button.addEventListener('click', function () {
        const targetId = this.dataset.accordionTarget;
        const targetBody = document.querySelector(targetId);
        const isExpanded = this.getAttribute('aria-expanded') === 'true';

        // Tutup semua selain yang sekarang
        accordionButtons.forEach(otherButton => {
          const otherTargetId = otherButton.dataset.accordionTarget;
          const otherTargetBody = document.querySelector(otherTargetId);
          const otherIcon = otherButton.querySelector('.accordion-icon');

          if (otherButton !== this && otherButton.getAttribute('aria-expanded') === 'true') {
            otherButton.setAttribute('aria-expanded', 'false');
            otherTargetBody.classList.add('hidden');
            otherIcon.style.transform = 'rotate(0deg)';
          }
        });

        // Toggle elemen aktif
        if (isExpanded) {
          this.setAttribute('aria-expanded', 'false');
          targetBody.classList.add('hidden');
          icon.style.transform = 'rotate(0deg)';
        } else {
          this.setAttribute('aria-expanded', 'true');
          targetBody.classList.remove('hidden');
          icon.style.transform = 'rotate(180deg)';
        }
      });
    });
  });
</script>

<style>
  .accordion-icon {
    transition: transform 0.3s ease;
  }
</style>

{% endblock %}